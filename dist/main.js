(()=>{"use strict";var t={144:(t,e,n)=>{n.d(e,{Z:()=>o});var i=n(81),r=n.n(i),s=n(645),a=n.n(s)()(r());a.push([t.id,".wrapper {\r\n    display: flex;\r\n    flex-direction: column-reverse;\r\n    align-items: center;\r\n    background-color: grey;\r\n    margin: auto;\r\n    margin-top: 1rem;\r\n    outline: 6px solid rgb(65, 63, 73);\r\n    width: fit-content;\r\n}\r\n.screen {\r\n    width: 100%;\r\n    height: 100px;\r\n    background-color: #999;\r\n}\r\n.messagewrap {\r\n    position:relative;\r\n    width: 100%;\r\n}\r\n.message {\r\n    position: absolute;\r\n    color: red;\r\n    font-weight: bolder;\r\n    font-size: 1rem;\r\n}\r\n.options {\r\n    display: flex;\r\n    justify-content: center;\r\n    background-color:rgb(65, 63, 73);\r\n    padding: 6px;\r\n    width: 100%;\r\n    gap: 0;\r\n}\r\n.button {\r\n    width: 4rem;\r\n    cursor: pointer;\r\n    color: antiquewhite;\r\n    font-family: monospace;\r\n    border: 0;\r\n    border-left: .4rem solid black;\r\n    background-color: rgb(29, 29, 29);\r\n    box-shadow: 0 .2rem #999;\r\n}\r\n.button:active {\r\n    transform: translateY(.1rem);\r\n    box-shadow: 0 .1rem #999;\r\n}\r\n.button:disabled {\r\n    transform: translateY(.1rem);\r\n    box-shadow: 0 .1rem #999;\r\n}",""]);const o=a},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",i=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),i&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),i&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,i,r,s){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(i)for(var o=0;o<this.length;o++){var l=this[o][0];null!=l&&(a[l]=!0)}for(var d=0;d<t.length;d++){var h=[].concat(t[d]);i&&a[h[0]]||(void 0!==s&&(void 0===h[5]||(h[1]="@layer".concat(h[5].length>0?" ".concat(h[5]):""," {").concat(h[1],"}")),h[5]=s),n&&(h[2]?(h[1]="@media ".concat(h[2]," {").concat(h[1],"}"),h[2]=n):h[2]=n),r&&(h[4]?(h[1]="@supports (".concat(h[4],") {").concat(h[1],"}"),h[4]=r):h[4]="".concat(r)),e.push(h))}},e}},81:t=>{t.exports=function(t){return t[1]}}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var s=e[i]={id:i,exports:{}};return t[i](s,s.exports,n),s.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{class t{delayForTransition=200;delayBetweenFrames=1e3;intervalID=null;id;dom;cont;svg;multiplier=1;xlen=0;load;constructor(t,e){this.dom=t,this.cont=t.shadowRoot,this.id=e}make(){this.svg=d3.select(this.cont.getElementById("svg"+this.id)).append("svg").attr("width","100%").attr("height","100%"),this.svg.append("rect").attr("x","10%").attr("y","40%").attr("width","80%").attr("height",20).attr("stroke","black").attr("fill","grey"),this.load=this.svg.append("rect").attr("x","10%").attr("y","40%").attr("width",this.xlen+"%").attr("height",20).attr("fill","black")}step(t=this){return new Promise((function(e,n){t.xlen>=80?n({error:"End of animation",id:t.id,end:!0}):(t.xlen+=10,t.load.attr("width",t.xlen+"%"),e())}))}restart(){this.xlen=-10,this.step()}end(){this.xlen=70,this.step()}next(t=this){t.step().catch((e=>t.handleErr(e,t)))}repeat(){this.intervalID=setInterval(this.next,this.delayBetweenFrames/this.multiplier,this)}stop(){clearInterval(this.intervalID),this.intervalID=null}nextmultiplier(){const t=[1,2,4,8];this.multiplier=t[t.indexOf(this.multiplier)+1]??t[0],this.cont.getElementById("multbutton").innerHTML=this.multiplier+"x"}handleErr(t,e=this){console.error(t),e.cont.lastChild.lastChild.lastChild.innerHTML=t.error,setTimeout((()=>e.cont.lastChild.lastChild.lastChild.innerHTML=""),2e3),null!=e.intervalID&&(clearInterval(e.intervalID),e.intervalID=null,e.dom.intervalCheck())}}class e extends t{x;i;j;temp;text;constructor(t,e,n){super(t,e);const i=n?n.length:10;this.x=new Uint32Array(i),void 0===n&&this.randomize(),this.temp=new Uint32Array([1]),this.orig=this.x}make(){this.svg=d3.select(this.cont.getElementById("svg"+this.id)).append("svg").attr("width","100%").attr("height","100%"),this.text=this.svg.append("text").text(this.x.join(" "))}randomize(){for(var t=0;t<this.x.length;t++)x[t]=Math.floor(this.x.length*Math.random())}pickPivot(){return this.x[Math.floor(this.x.length*Math.random())]}partition(t,e){var n=pickPivot();let i=t,r=e;for(;i<r;){for(;i<r&&x[i]<n;)i++,this.event1();for(;i<r&&x[r]>=n;)r--,this.event1();i<r&&(swap(i,r),this.event2())}return i}lomutoPartition(t,e){var n=pickPivot(),i=e;this.swap(n,e);let r=t,s=e-1;for(;r<s;){for(;r<s&&this.x[r]<=n;)r++;for(r<s&&(this.swap(r,i),i=r);r<s&&this.x[s]>=n;)s--;r<s&&(this.swap(s,i),i=s)}}quicksort(t,e){var n=partition(t,e);n>t&&this.quicksort(t,n),e>n+1&&this.quicksort(n+1,e)}lomutoQuicksort(t,e){var n=lomutoPartition(t,e);n-1>t&&this.lomutoQuicksort(t,n-1),e>n+1&&this.lomutoQuicksort(n+1,e)}swap(){this.temp[0]=this.x[this.i],this.x[this.i]=this.x[this.j],this.x[this.j]=this.temp[0]}animate1(){}animate2(){}render(){}}var i=n(144),r=[];class s extends HTMLElement{constructor(){super(),this.animated,this.mult=1}intervalCheck(){const t=this.shadowRoot.lastChild.firstChild.children;null===this.animated.intervalID?(t[0].disabled=!1,t[1].disabled=!0,t[2].disabled=!1,t[3].disabled=!1,t[4].disabled=!1,t[5].disabled=!1):(t[0].disabled=!0,t[1].disabled=!1,t[2].disabled=!0,t[3].disabled=!0,t[4].disabled=!0,t[5].disabled=!0)}connectedCallback(){this.attachShadow({mode:"open"});const n=document.createElement("style");n.innerHTML=i.Z,this.shadowRoot.appendChild(n);const s=this.hasAttribute("data")?this.getAttribute("data"):void 0,a=this.hasAttribute("name")?this.getAttribute("name"):"default";if(r.includes(a))return void console.error(`i-player with name ${a} already exists`);r.push(a),"quiksort"===(this.hasAttribute("type")?this.getAttribute("type"):"none")?this.animated=new e(this,a,s):this.animated=new t(this,a);const o=document.createElement("div");o.setAttribute("class","wrapper");const l=document.createElement("div");l.setAttribute("class","messagewrap");const d=document.createElement("div");d.setAttribute("class","message"),d.innerHTML="";const h=document.createElement("div");h.setAttribute("class","options");const c=document.createElement("button");c.setAttribute("class","button"),c.onclick=()=>{this.animated.restart()},c.innerHTML="Restart";const u=document.createElement("button");u.setAttribute("class","button"),u.onclick=()=>{this.animated.stop(),this.intervalCheck()},u.innerHTML="Stop";const p=document.createElement("button");p.setAttribute("class","button"),p.onclick=()=>{this.animated.next()},p.innerHTML="Next";const m=document.createElement("button");m.setAttribute("class","button"),m.onclick=async()=>{this.animated.repeat(),this.intervalCheck()},m.id="repeatbutton",m.innerHTML="Play";const b=document.createElement("button");b.setAttribute("class","button"),b.onclick=()=>{this.animated.nextmultiplier()},b.id="multbutton",b.innerHTML="1x";const v=document.createElement("button");v.setAttribute("class","button"),v.onclick=()=>{this.animated.end()},v.id="endbutton",v.innerHTML="End";const x=document.createElement("div");x.setAttribute("class","screen"),x.id="svg"+a,h.appendChild(c),h.appendChild(u),h.appendChild(m),h.appendChild(b),h.appendChild(p),h.appendChild(v),l.appendChild(d),o.appendChild(h),o.appendChild(x),o.appendChild(l),this.shadowRoot.append(o),this.animated.make(),this.intervalCheck()}}customElements.define("i-player",s)})()})();